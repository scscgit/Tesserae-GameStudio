<?xml version="1.0" encoding="UTF-8"?>

<ui:composition template="/WEB-INF/templates/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="title">Štatistiky</ui:define>


    <ui:define name="style">
        <h:outputStylesheet library="css" name="statistics.css"/>
    </ui:define>

    <ui:define name="menuStatistics">
        <li class="current"><a href="statistics.xhtml">Štatistiky</a></li>
    </ui:define>

    <ui:define name="content">
        <h1>Štatistiky hier pre všetkých používateľov</h1>
        <hr/>

        <!-- Dynamically "spawns" all game entries and displays their statistics based on a standard format -->
        <p:dataScroller value="#{game.allGames}"
                        var="curentGame"
                        styleClass="dataScrollerOverride"
        >

            <p>
                <a href="#{game.getAddress(curentGame.name)}">#{curentGame.name}</a> | Total score: #{utility.sumScores(databaseServices.getAllScoresForGame(curentGame))} | Favorite game of #{databaseServices.getFavoriteGamePlayers(curentGame).size()} users.
            </p>
            <hr/>

        </p:dataScroller>
    </ui:define>

</ui:composition>
